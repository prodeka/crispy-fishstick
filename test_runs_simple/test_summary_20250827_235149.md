# Rapport de Synthèse des Tests d'Optimisation LCPI AEP

**Date de génération:** 2025-08-27 23:51:49
**Nombre total de tests:** 2
**Tests réussis:** 0
**Tests échoués:** 2

## Résultats des Tests

| Run | Status | Constraints OK | CAPEX | Max Speed | Min Pressure | Generations | Population | Hmax | Duration |
|-----|--------|----------------|-------|-----------|--------------|-------------|------------|------|----------|
| h100_g10_p20 | failed | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A |
| h120_g10_p20 | failed | N/A | N/A | N/A | N/A | N/A | N/A | N/A | N/A |

## Détails des Tests

### h100_g10_p20
- **Status:** failed
- **Paramètres:** {'generations': 10, 'population': 20, 'hmax': 100, 'run_name': 'h100_g10_p20'}
- **Fichier de sortie:** test_runs_simple\h100_g10_p20_20250827_235140.json
- **Début:** 2025-08-27 23:51:40
- **Erreur:** Erreur d'exécution: +--------------------- Traceback (most recent call last) ---------------------+
| C:\PROJET_DIMENTIONEMENT_2\src\lcpi\aep\cli.py:2859 in                      |
| network_optimize_unified                                                    |
|                                                                             |
|   2856         if input_file.suffix.lower() == ".inp":                      |
|   2857             from .utils.inp_validator import validate_inp_file as _v |
|   2858             from .utils.inp_mass_conservation_validator import valid |
| > 2859             typer.secho("\U0001f50d Validation du fichier INP...", fg=typer. |
|   2860             ok, msg = _validate_inp_file(input_file)                 |
|   2861             if ok:                                                   |
|   2862                 typer.secho(msg, fg=typer.colors.GREEN)              |
|                                                                             |
| +-------------------------------- locals ---------------------------------+ |
| |          _List = typing.List                                            | |
| |     budget_max = None                                                   | |
| |        critere = 'cout'                                                 | |
| |         demand = None                                                   | |
| | epanet_backend = 'wntr'                                                 | |
| |    generations = 10                                                     | |
| |       hard_vel = False                                                  | |
| |           hmax = 100.0                                                  | |
| | hybrid_refiner = None                                                   | |
| |   hybrid_steps = 1                                                      | |
| |    hybrid_topk = 2                                                      | |
| |     input_file = WindowsPath('test_validation/bismark_inp.inp')         | |
| |            log = None                                                   | |
| |         method = 'genetic'                                              | |
| |       no_cache = False                                                  | |
| |     no_confirm = True                                                   | |
| |         no_log = True                                                   | |
| |   no_surrogate = False                                                  | |
| |       num_prop = 1                                                      | |
| |         output = WindowsPath('test_runs_simple/h100_g10_p20_20250827_2… | |
| |   penalty_beta = 1.0                                                    | |
| | penalty_weight = 1000000.0                                              | |
| |     population = 20                                                     | |
| |   pression_min = 10.0                                                   | |
| |       price_db = WindowsPath('C:/PROJET_DIMENTIONEMENT_2/src/lcpi/db/a… | |
| |         report = None                                                   | |
| |  report_output = None                                                   | |
| |     show_stats = True                                                   | |
| |         solver = 'epanet'                                               | |
| |        solvers = None                                                   | |
| |   stream_flows = False                                                  | |
| |        verbose = True                                                   | |
| |    vitesse_max = 1.5                                                    | |
| |    vitesse_min = 0.3                                                    | |
| +-------------------------------------------------------------------------+ |
|                                                                             |
| C:\Users\prota\anaconda3\Lib\site-packages\click\termui.py:684 in secho     |
|                                                                             |
| C:\Users\prota\anaconda3\Lib\site-packages\click\utils.py:321 in echo       |
|                                                                             |
| C:\Users\prota\anaconda3\Lib\encodings\cp1252.py:19 in encode               |
|                                                                             |
|    16                                                                       |
|    17 class IncrementalEncoder(codecs.IncrementalEncoder):                  |
|    18     def encode(self, input, final=False):                             |
| >  19         return codecs.charmap_encode(input,self.errors,encoding_table |
|    20                                                                       |
|    21 class IncrementalDecoder(codecs.IncrementalDecoder):                  |
|    22     def decode(self, input, final=False):                             |
|                                                                             |
| +-------------------------------- locals ---------------------------------+ |
| | final = False                                                           | |
| | input = '\U0001f50d Validation du fichier INP...\r\n'                           | |
| |  self = <encodings.cp1252.IncrementalEncoder object at                  | |
| |         0x00000215810A4AD0>                                             | |
| +-------------------------------------------------------------------------+ |
+-----------------------------------------------------------------------------+
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in 
position 0: character maps to <undefined>

During handling of the above exception, another exception occurred:

+--------------------- Traceback (most recent call last) ---------------------+
| C:\PROJET_DIMENTIONEMENT_2\src\lcpi\aep\cli.py:3418 in                      |
| network_optimize_unified                                                    |
|                                                                             |
|   3415             return resultats                                         |
|   3416         # ... existing YAML flow ...                                 |
|   3417     except Exception as e:                                           |
| > 3418         typer.secho(f"\u274c Erreur lors de l'optimisation: {e}", fg=typ |
|   3419         if verbose:                                                  |
|   3420             import traceback; traceback.print_exc()                  |
|   3421         raise typer.Exit(1)                                          |
|                                                                             |
| +-------------------------------- locals ---------------------------------+ |
| |          _List = typing.List                                            | |
| |     budget_max = None                                                   | |
| |        critere = 'cout'                                                 | |
| |         demand = None                                                   | |
| | epanet_backend = 'wntr'                                                 | |
| |    generations = 10                                                     | |
| |       hard_vel = False                                                  | |
| |           hmax = 100.0                                                  | |
| | hybrid_refiner = None                                                   | |
| |   hybrid_steps = 1                                                      | |
| |    hybrid_topk = 2                                                      | |
| |     input_file = WindowsPath('test_validation/bismark_inp.inp')         | |
| |            log = None                                                   | |
| |         method = 'genetic'                                              | |
| |       no_cache = False                                                  | |
| |     no_confirm = True                                                   | |
| |         no_log = True                                                   | |
| |   no_surrogate = False                                                  | |
| |       num_prop = 1                                                      | |
| |         output = WindowsPath('test_runs_simple/h100_g10_p20_20250827_2… | |
| |   penalty_beta = 1.0                                                    | |
| | penalty_weight = 1000000.0                                              | |
| |     population = 20                                                     | |
| |   pression_min = 10.0                                                   | |
| |       price_db = WindowsPath('C:/PROJET_DIMENTIONEMENT_2/src/lcpi/db/a… | |
| |         report = None                                                   | |
| |  report_output = None                                                   | |
| |     show_stats = True                                                   | |
| |         solver = 'epanet'                                               | |
| |        solvers = None                                                   | |
| |   stream_flows = False                                                  | |
| |        verbose = True                                                   | |
| |    vitesse_max = 1.5                                                    | |
| |    vitesse_min = 0.3                                                    | |
| +-------------------------------------------------------------------------+ |
|                                                                             |
| C:\Users\prota\anaconda3\Lib\site-packages\click\termui.py:684 in secho     |
|                                                                             |
| C:\Users\prota\anaconda3\Lib\site-packages\click\utils.py:321 in echo       |
|                                                                             |
| C:\Users\prota\anaconda3\Lib\encodings\cp1252.py:19 in encode               |
|                                                                             |
|    16                                                                       |
|    17 class IncrementalEncoder(codecs.IncrementalEncoder):                  |
|    18     def encode(self, input, final=False):                             |
| >  19         return codecs.charmap_encode(input,self.errors,encoding_table |
|    20                                                                       |
|    21 class IncrementalDecoder(codecs.IncrementalDecoder):                  |
|    22     def decode(self, input, final=False):                             |
|                                                                             |
| +-------------------------------- locals ---------------------------------+ |
| | final = False                                                           | |
| | input = "\u274c Erreur lors de l'optimisation: 'charmap' codec can't encod… | |
| |         character '\\U0001f"+51                                         | |
| |  self = <encodings.cp1252.IncrementalEncoder object at                  | |
| |         0x00000215810A4AD0>                                             | |
| +-------------------------------------------------------------------------+ |
+-----------------------------------------------------------------------------+
UnicodeEncodeError: 'charmap' codec can't encode character '\u274c' in position
0: character maps to <undefined>


### h120_g10_p20
- **Status:** failed
- **Paramètres:** {'generations': 10, 'population': 20, 'hmax': 120, 'run_name': 'h120_g10_p20'}
- **Fichier de sortie:** test_runs_simple\h120_g10_p20_20250827_235140.json
- **Début:** 2025-08-27 23:51:45
- **Erreur:** Erreur d'exécution: +--------------------- Traceback (most recent call last) ---------------------+
| C:\PROJET_DIMENTIONEMENT_2\src\lcpi\aep\cli.py:2859 in                      |
| network_optimize_unified                                                    |
|                                                                             |
|   2856         if input_file.suffix.lower() == ".inp":                      |
|   2857             from .utils.inp_validator import validate_inp_file as _v |
|   2858             from .utils.inp_mass_conservation_validator import valid |
| > 2859             typer.secho("\U0001f50d Validation du fichier INP...", fg=typer. |
|   2860             ok, msg = _validate_inp_file(input_file)                 |
|   2861             if ok:                                                   |
|   2862                 typer.secho(msg, fg=typer.colors.GREEN)              |
|                                                                             |
| +-------------------------------- locals ---------------------------------+ |
| |          _List = typing.List                                            | |
| |     budget_max = None                                                   | |
| |        critere = 'cout'                                                 | |
| |         demand = None                                                   | |
| | epanet_backend = 'wntr'                                                 | |
| |    generations = 10                                                     | |
| |       hard_vel = False                                                  | |
| |           hmax = 120.0                                                  | |
| | hybrid_refiner = None                                                   | |
| |   hybrid_steps = 1                                                      | |
| |    hybrid_topk = 2                                                      | |
| |     input_file = WindowsPath('test_validation/bismark_inp.inp')         | |
| |            log = None                                                   | |
| |         method = 'genetic'                                              | |
| |       no_cache = False                                                  | |
| |     no_confirm = True                                                   | |
| |         no_log = True                                                   | |
| |   no_surrogate = False                                                  | |
| |       num_prop = 1                                                      | |
| |         output = WindowsPath('test_runs_simple/h120_g10_p20_20250827_2… | |
| |   penalty_beta = 1.0                                                    | |
| | penalty_weight = 1000000.0                                              | |
| |     population = 20                                                     | |
| |   pression_min = 10.0                                                   | |
| |       price_db = WindowsPath('C:/PROJET_DIMENTIONEMENT_2/src/lcpi/db/a… | |
| |         report = None                                                   | |
| |  report_output = None                                                   | |
| |     show_stats = True                                                   | |
| |         solver = 'epanet'                                               | |
| |        solvers = None                                                   | |
| |   stream_flows = False                                                  | |
| |        verbose = True                                                   | |
| |    vitesse_max = 1.5                                                    | |
| |    vitesse_min = 0.3                                                    | |
| +-------------------------------------------------------------------------+ |
|                                                                             |
| C:\Users\prota\anaconda3\Lib\site-packages\click\termui.py:684 in secho     |
|                                                                             |
| C:\Users\prota\anaconda3\Lib\site-packages\click\utils.py:321 in echo       |
|                                                                             |
| C:\Users\prota\anaconda3\Lib\encodings\cp1252.py:19 in encode               |
|                                                                             |
|    16                                                                       |
|    17 class IncrementalEncoder(codecs.IncrementalEncoder):                  |
|    18     def encode(self, input, final=False):                             |
| >  19         return codecs.charmap_encode(input,self.errors,encoding_table |
|    20                                                                       |
|    21 class IncrementalDecoder(codecs.IncrementalDecoder):                  |
|    22     def decode(self, input, final=False):                             |
|                                                                             |
| +-------------------------------- locals ---------------------------------+ |
| | final = False                                                           | |
| | input = '\U0001f50d Validation du fichier INP...\r\n'                           | |
| |  self = <encodings.cp1252.IncrementalEncoder object at                  | |
| |         0x000001A684EA4AD0>                                             | |
| +-------------------------------------------------------------------------+ |
+-----------------------------------------------------------------------------+
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in 
position 0: character maps to <undefined>

During handling of the above exception, another exception occurred:

+--------------------- Traceback (most recent call last) ---------------------+
| C:\PROJET_DIMENTIONEMENT_2\src\lcpi\aep\cli.py:3418 in                      |
| network_optimize_unified                                                    |
|                                                                             |
|   3415             return resultats                                         |
|   3416         # ... existing YAML flow ...                                 |
|   3417     except Exception as e:                                           |
| > 3418         typer.secho(f"\u274c Erreur lors de l'optimisation: {e}", fg=typ |
|   3419         if verbose:                                                  |
|   3420             import traceback; traceback.print_exc()                  |
|   3421         raise typer.Exit(1)                                          |
|                                                                             |
| +-------------------------------- locals ---------------------------------+ |
| |          _List = typing.List                                            | |
| |     budget_max = None                                                   | |
| |        critere = 'cout'                                                 | |
| |         demand = None                                                   | |
| | epanet_backend = 'wntr'                                                 | |
| |    generations = 10                                                     | |
| |       hard_vel = False                                                  | |
| |           hmax = 120.0                                                  | |
| | hybrid_refiner = None                                                   | |
| |   hybrid_steps = 1                                                      | |
| |    hybrid_topk = 2                                                      | |
| |     input_file = WindowsPath('test_validation/bismark_inp.inp')         | |
| |            log = None                                                   | |
| |         method = 'genetic'                                              | |
| |       no_cache = False                                                  | |
| |     no_confirm = True                                                   | |
| |         no_log = True                                                   | |
| |   no_surrogate = False                                                  | |
| |       num_prop = 1                                                      | |
| |         output = WindowsPath('test_runs_simple/h120_g10_p20_20250827_2… | |
| |   penalty_beta = 1.0                                                    | |
| | penalty_weight = 1000000.0                                              | |
| |     population = 20                                                     | |
| |   pression_min = 10.0                                                   | |
| |       price_db = WindowsPath('C:/PROJET_DIMENTIONEMENT_2/src/lcpi/db/a… | |
| |         report = None                                                   | |
| |  report_output = None                                                   | |
| |     show_stats = True                                                   | |
| |         solver = 'epanet'                                               | |
| |        solvers = None                                                   | |
| |   stream_flows = False                                                  | |
| |        verbose = True                                                   | |
| |    vitesse_max = 1.5                                                    | |
| |    vitesse_min = 0.3                                                    | |
| +-------------------------------------------------------------------------+ |
|                                                                             |
| C:\Users\prota\anaconda3\Lib\site-packages\click\termui.py:684 in secho     |
|                                                                             |
| C:\Users\prota\anaconda3\Lib\site-packages\click\utils.py:321 in echo       |
|                                                                             |
| C:\Users\prota\anaconda3\Lib\encodings\cp1252.py:19 in encode               |
|                                                                             |
|    16                                                                       |
|    17 class IncrementalEncoder(codecs.IncrementalEncoder):                  |
|    18     def encode(self, input, final=False):                             |
| >  19         return codecs.charmap_encode(input,self.errors,encoding_table |
|    20                                                                       |
|    21 class IncrementalDecoder(codecs.IncrementalDecoder):                  |
|    22     def decode(self, input, final=False):                             |
|                                                                             |
| +-------------------------------- locals ---------------------------------+ |
| | final = False                                                           | |
| | input = "\u274c Erreur lors de l'optimisation: 'charmap' codec can't encod… | |
| |         character '\\U0001f"+51                                         | |
| |  self = <encodings.cp1252.IncrementalEncoder object at                  | |
| |         0x000001A684EA4AD0>                                             | |
| +-------------------------------------------------------------------------+ |
+-----------------------------------------------------------------------------+
UnicodeEncodeError: 'charmap' codec can't encode character '\u274c' in position
0: character maps to <undefined>


